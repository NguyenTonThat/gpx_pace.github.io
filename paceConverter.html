<!DOCTYPE html>
<html>

<head>
    <style>

             .divider {
            border: 1px solid #000;
            height: 2px;
            width: 100%;
            margin-bottom: 10px;
            margin-top: 5px;
            font-size: x-large;
        }
        body {
            font-size: x-large; /* Adjust the size as needed */
        }
        h1{
            font-size: xx-large;
        }
         p, label, input, button {
            font-size: x-large;; /* Adjust the size as needed */
        }
         #distance ,#time{
            font-size: x-large;; /* Adjust the size as needed */
        }
          </style>
    <link rel="icon" href="pace_icon.ico" type="image/x-icon">
    <!-- Apple Touch Icons for iPhone Home Screen -->
    <link rel="apple-touch-icon" sizes="180x180" href="pace_icon_180x180.png">
    <link rel="apple-touch-icon" sizes="152x152" href="pace_icon_152x152.png">
    <link rel="apple-touch-icon" sizes="120x120" href="pace_icon_120x120.png">
   
    <title>Pace Calculator</title>
</head>

<body>
    <h1>Pace Calculator</h1>
    <label for="distance">Distance:</label>
    <select id="distance">
        <option value="42.195">FM</option>
        <option value="21.097">HM</option>
        <option value="10">10km</option>
        <option value="5">5km</option>
    </select>
    <label for="time">Elapsed Time:</label>
    <input type="time" id="time" step="60" placeholder="Enter time in hh:mm format">
    <div>
        <label>Your Pace:</label>
        <label id="paceResult" style="font-weight: bolder;"></label>
    </div>
    <div>
        <div>
            <div class="divider"></div>
            <button onclick="calculatePace()">Calculate Pace</button>

            <script>
                setDefaultElapsedTime(document.getElementById("distance").value);
                // Set default time for Full Marathon
                document.getElementById("distance").addEventListener("change", function () {
                    setDefaultElapsedTime(this.value);
                });
                // Add event listener to the "time" input to calculate on Enter key press
                document.getElementById("time").addEventListener("keyup", function (event) {
                    if (event.key === "Enter") {
                        calculatePace();
                    }
                });
                function setDefaultElapsedTime(disVal) {
                    const timeInput = document.getElementById("time");
                    const selectedDistance = disVal;
                    if (selectedDistance === "42.195") {
                        timeInput.value = "03:30";
                    } else if (selectedDistance === "21.097") {
                        timeInput.value = "01:30";

                    } else if (selectedDistance === "10") {
                        timeInput.value = "00:30";
                    } else if (selectedDistance === "5") {
                        timeInput.value = "00:20";
                    } else {
                        timeInput.value = "00:40";
                    }
                }

                function calculatePace() {
                    const distanceSelect = document.getElementById("distance");
                    const timeInput = document.getElementById("time");
                    const paceResult = document.getElementById("paceResult");

                    const distance = parseFloat(distanceSelect.value); // Convert to a number
                    const timeInputValue = timeInput.value;

                    // Validate and parse the time in "hh:mm" format
                    const timePattern = /^([01][0-9]|2[0-3]):[0-5][0-9]$/;
                    if (timePattern.test(timeInputValue)) {
                        const [hours, minutes] = timeInputValue.split(":");
                        const timeInMinutes = parseInt(hours, 10) * 60 + parseInt(minutes, 10);

                        if (!isNaN(distance) && !isNaN(timeInMinutes)) {
                            const pace = timeInMinutes / distance;
                            const paceMin = Math.floor(pace);
                            const paceSecond = (pace - paceMin) * 60;
                            paceResult.textContent = `${paceMin}:${String(Math.round(paceSecond)).padStart(2, '0')}`;
                        } else {
                            paceResult.textContent = "Please enter valid distance and time.";
                        }
                    } else {
                        paceResult.textContent = "Please enter elapsed time in hh:mm format.";
                    }
                }
            </script>
</body>

</html>
